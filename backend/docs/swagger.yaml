basePath: /api/v1
definitions:
  handlers.AuthResponse:
    properties:
      access_token:
        type: string
      refresh_token:
        type: string
      user: {}
    type: object
  handlers.CreateCategoryRequest:
    properties:
      name:
        type: string
      type:
        enum:
        - product
        - tech_card
        - semi_finished
        type: string
    required:
    - name
    - type
    type: object
  handlers.CreateIngredientCategoryRequest:
    properties:
      name:
        type: string
    required:
    - name
    type: object
  handlers.CreateIngredientRequest:
    properties:
      barcode:
        type: string
      category_id:
        type: string
      loss_baking:
        type: number
      loss_boiling:
        type: number
      loss_cleaning:
        type: number
      loss_frying:
        type: number
      loss_stewing:
        type: number
      name:
        type: string
      price_per_unit:
        description: Цена за единицу измерения
        type: number
      quantity:
        description: Количество в наличии
        type: number
      unit:
        enum:
        - шт
        - л
        - кг
        type: string
      warehouse_id:
        description: Складской учет (опционально)
        type: string
    required:
    - category_id
    - name
    - unit
    type: object
  handlers.CreateProductRequest:
    properties:
      barcode:
        type: string
      category_id:
        description: UUID как строка
        type: string
      cost_price:
        type: number
      cover_image:
        type: string
      description:
        type: string
      exclude_from_discounts:
        type: boolean
      has_modifications:
        type: boolean
      is_weighted:
        type: boolean
      markup:
        type: number
      name:
        type: string
      price:
        description: Можно задать напрямую, иначе вычисляется
        type: number
      warehouse_id:
        description: UUID склада для создания остатков
        type: string
      workshop_id:
        description: UUID как строка
        type: string
    required:
    - category_id
    - name
    - warehouse_id
    type: object
  handlers.CreateSupplierRequest:
    properties:
      address:
        description: Адрес
        type: string
      comment:
        description: Комментарий
        type: string
      contact:
        description: Контактное лицо (опционально)
        type: string
      email:
        description: Email (опционально)
        type: string
      name:
        description: Имя
        type: string
      phone:
        description: Телефон
        type: string
      taxpayer_number:
        description: Номер налогоплательщика
        type: string
    required:
    - name
    type: object
  handlers.CreateSupplyRequest:
    properties:
      comment:
        description: Комментарий
        type: string
      delivery_date_time:
        description: Дата и время поставки (RFC3339)
        type: string
      items:
        items:
          $ref: '#/definitions/handlers.SupplyItemRequest'
        minItems: 1
        type: array
      status:
        description: pending, completed
        type: string
      supplier_id:
        description: Поставщик
        type: string
      warehouse_id:
        description: Склад
        type: string
    required:
    - delivery_date_time
    - items
    - supplier_id
    - warehouse_id
    type: object
  handlers.CreateTechCardRequest:
    properties:
      category_id:
        type: string
      cost_price:
        type: number
      cover_image:
        type: string
      description:
        type: string
      exclude_from_discounts:
        type: boolean
      ingredients:
        items:
          $ref: '#/definitions/handlers.TechCardIngredientRequest'
        type: array
      is_weighted:
        type: boolean
      markup:
        type: number
      modifier_sets:
        items:
          $ref: '#/definitions/handlers.ModifierSetRequest'
        type: array
      name:
        type: string
      price:
        type: number
      warehouse_id:
        description: Для расчета себестоимости
        type: string
      workshop_id:
        type: string
    required:
    - category_id
    - name
    type: object
  handlers.CreateWarehouseRequest:
    properties:
      address:
        type: string
      name:
        type: string
    required:
    - name
    type: object
  handlers.CreateWriteOffRequest:
    properties:
      comment:
        description: Комментарий
        type: string
      items:
        items:
          $ref: '#/definitions/handlers.WriteOffItemRequest'
        minItems: 1
        type: array
      reason:
        description: Причина списания
        type: string
      warehouse_id:
        description: Склад
        type: string
      write_off_date_time:
        description: Дата и время списания (RFC3339)
        type: string
    required:
    - items
    - warehouse_id
    - write_off_date_time
    type: object
  handlers.LoginRequest:
    properties:
      email:
        type: string
      password:
        type: string
    required:
    - email
    - password
    type: object
  handlers.ModifierOptionRequest:
    properties:
      name:
        type: string
      price:
        type: number
    required:
    - name
    type: object
  handlers.ModifierSetRequest:
    properties:
      max_selection:
        description: Максимальное количество выбора (для multiple, 0 = без ограничений)
        type: integer
      min_selection:
        description: Минимальное количество выбора (для multiple)
        type: integer
      name:
        type: string
      options:
        items:
          $ref: '#/definitions/handlers.ModifierOptionRequest'
        type: array
      selection_type:
        description: '"single" или "multiple"'
        enum:
        - single
        - multiple
        type: string
    required:
    - name
    - selection_type
    type: object
  handlers.RefreshRequest:
    properties:
      refresh_token:
        type: string
    required:
    - refresh_token
    type: object
  handlers.RegisterRequest:
    properties:
      email:
        type: string
      name:
        type: string
      password:
        minLength: 6
        type: string
    required:
    - email
    - name
    - password
    type: object
  handlers.SubmitAnswersRequest:
    properties:
      answers:
        additionalProperties: true
        type: object
    required:
    - answers
    type: object
  handlers.SupplyItemRequest:
    properties:
      ingredient_id:
        type: string
      price_per_unit:
        description: Цена за единицу измерения
        type: number
      product_id:
        type: string
      quantity:
        type: number
      total_amount:
        description: Общая сумма позиции
        type: number
      unit:
        type: string
    required:
    - quantity
    - unit
    type: object
  handlers.TechCardIngredientRequest:
    properties:
      ingredient_id:
        type: string
      quantity:
        type: number
      unit:
        description: кг, л, шт и т.д.
        type: string
    required:
    - ingredient_id
    - quantity
    - unit
    type: object
  handlers.UpdateCategoryRequest:
    properties:
      name:
        type: string
      type:
        enum:
        - product
        - tech_card
        - semi_finished
        type: string
    type: object
  handlers.UpdateEstablishmentRequest:
    properties:
      active:
        type: boolean
      address:
        type: string
      email:
        type: string
      has_seating_places:
        type: boolean
      name:
        type: string
      phone:
        type: string
      table_count:
        type: integer
      type:
        type: string
    type: object
  handlers.UpdateIngredientCategoryRequest:
    properties:
      name:
        type: string
    type: object
  handlers.UpdateIngredientRequest:
    properties:
      active:
        type: boolean
      barcode:
        type: string
      category_id:
        type: string
      loss_baking:
        type: number
      loss_boiling:
        type: number
      loss_cleaning:
        type: number
      loss_frying:
        type: number
      loss_stewing:
        type: number
      name:
        type: string
      unit:
        enum:
        - шт
        - л
        - кг
        type: string
    type: object
  handlers.UpdateProductRequest:
    properties:
      active:
        type: boolean
      barcode:
        type: string
      category_id:
        type: string
      cost_price:
        type: number
      cover_image:
        type: string
      description:
        type: string
      exclude_from_discounts:
        type: boolean
      has_modifications:
        type: boolean
      is_weighted:
        type: boolean
      markup:
        type: number
      name:
        type: string
      price:
        type: number
      workshop_id:
        type: string
    type: object
  handlers.UpdateSupplierRequest:
    properties:
      active:
        type: boolean
      address:
        type: string
      comment:
        type: string
      contact:
        type: string
      email:
        type: string
      name:
        type: string
      phone:
        type: string
      taxpayer_number:
        type: string
    type: object
  handlers.UpdateTechCardRequest:
    properties:
      active:
        type: boolean
      category_id:
        type: string
      cost_price:
        type: number
      cover_image:
        type: string
      description:
        type: string
      exclude_from_discounts:
        type: boolean
      ingredients:
        items:
          $ref: '#/definitions/handlers.TechCardIngredientRequest'
        type: array
      is_weighted:
        type: boolean
      markup:
        type: number
      modifier_sets:
        items:
          $ref: '#/definitions/handlers.ModifierSetRequest'
        type: array
      name:
        type: string
      price:
        type: number
      warehouse_id:
        description: Для расчета себестоимости
        type: string
      workshop_id:
        type: string
    type: object
  handlers.UpdateWarehouseRequest:
    properties:
      active:
        type: boolean
      address:
        type: string
      name:
        type: string
    type: object
  handlers.WriteOffItemRequest:
    properties:
      details:
        description: Детали списания
        type: string
      ingredient_id:
        type: string
      product_id:
        type: string
      quantity:
        type: number
      unit:
        type: string
    required:
    - quantity
    - unit
    type: object
host: localhost:8080
info:
  contact:
    email: support@swagger.io
    name: API Support
    url: http://www.swagger.io/support
  description: API для системы управления рестораном/кафе с функционалом меню, склада,
    финансов и статистики
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  termsOfService: http://swagger.io/terms/
  title: Arc Restaurant Management API
  version: "1.0"
paths:
  /auth/login:
    post:
      consumes:
      - application/json
      description: Аутентифицирует пользователя и возвращает токены доступа
      parameters:
      - description: Данные для входа
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.AuthResponse'
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Вход в систему
      tags:
      - auth
  /auth/logout:
    post:
      description: Добавляет токен доступа в черный список
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Выход из системы
      tags:
      - auth
  /auth/onboarding/questions:
    get:
      description: Возвращает все активные вопросы опросника, отсортированные по шагам
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: Получить вопросы опросника
      tags:
      - onboarding
  /auth/onboarding/response:
    get:
      description: Возвращает сохраненные ответы пользователя на опросник
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - Bearer: []
      summary: Получить ответы пользователя
      tags:
      - onboarding
  /auth/onboarding/submit:
    post:
      consumes:
      - application/json
      description: Обрабатывает ответы пользователя, создает заведение и настраивает
        систему
      parameters:
      - description: Ответы на вопросы опросника
        in: body
        name: answers
        required: true
        schema:
          $ref: '#/definitions/handlers.SubmitAnswersRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Отправить ответы опросника
      tags:
      - onboarding
  /auth/refresh:
    post:
      consumes:
      - application/json
      description: Обновляет access token используя refresh token
      parameters:
      - description: Refresh token
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.RefreshRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.AuthResponse'
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Обновление токена
      tags:
      - auth
  /auth/register:
    post:
      consumes:
      - application/json
      description: Регистрирует нового пользователя и возвращает токены доступа
      parameters:
      - description: Данные для регистрации
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.RegisterRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/handlers.AuthResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Регистрация нового пользователя
      tags:
      - auth
  /establishments:
    get:
      description: Возвращает заведения пользователя (обычно 0 или 1 элемент)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Получить список заведений
      tags:
      - establishments
    post:
      consumes:
      - application/json
      description: Заведение создаётся при прохождении onboarding, этот endpoint не
        используется
      produces:
      - application/json
      responses:
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Создать заведение (не используется)
      tags:
      - establishments
  /establishments/{id}:
    delete:
      description: Удаление заведения не разрешено
      parameters:
      - description: ID заведения
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Удалить заведение (не разрешено)
      tags:
      - establishments
    get:
      description: Возвращает заведение по ID (доступ только к своему заведению)
      parameters:
      - description: ID заведения
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Получить заведение по ID
      tags:
      - establishments
    put:
      consumes:
      - application/json
      description: Обновляет заведение (доступ только к своему заведению)
      parameters:
      - description: ID заведения
        in: path
        name: id
        required: true
        type: string
      - description: Данные для обновления
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.UpdateEstablishmentRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Обновить заведение
      tags:
      - establishments
  /finance/cash-flow:
    get:
      description: Возвращает отчет о движении денежных средств
      parameters:
      - description: Начальная дата
        in: query
        name: start_date
        type: string
      - description: Конечная дата
        in: query
        name: end_date
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - Bearer: []
      summary: Получить отчет о движении денежных средств
      tags:
      - finance
  /finance/pnl:
    get:
      description: Возвращает отчет о прибылях и убытках
      parameters:
      - description: Начальная дата
        in: query
        name: start_date
        type: string
      - description: Конечная дата
        in: query
        name: end_date
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - Bearer: []
      summary: Получить отчет P&L
      tags:
      - finance
  /finance/shifts:
    get:
      description: Возвращает список смен
      parameters:
      - description: Начальная дата
        in: query
        name: start_date
        type: string
      - description: Конечная дата
        in: query
        name: end_date
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - Bearer: []
      summary: Получить смены
      tags:
      - finance
  /finance/transactions:
    get:
      description: Возвращает список финансовых транзакций
      parameters:
      - description: Начальная дата
        in: query
        name: start_date
        type: string
      - description: Конечная дата
        in: query
        name: end_date
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - Bearer: []
      summary: Получить транзакции
      tags:
      - finance
  /menu/categories:
    get:
      description: Возвращает список категорий для товаров и тех-карт
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - Bearer: []
      summary: Получить список категорий
      tags:
      - menu
    post:
      consumes:
      - application/json
      description: Создает новую категорию для товаров и тех-карт
      parameters:
      - description: Данные категории
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.CreateCategoryRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Создать категорию
      tags:
      - menu
  /menu/categories/{id}:
    delete:
      description: Удаляет категорию по ID
      parameters:
      - description: ID категории
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Удалить категорию
      tags:
      - menu
    get:
      description: Возвращает категорию по ID
      parameters:
      - description: ID категории
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Получить категорию по ID
      tags:
      - menu
    put:
      consumes:
      - application/json
      description: Обновляет данные категории
      parameters:
      - description: ID категории
        in: path
        name: id
        required: true
        type: string
      - description: Данные для обновления
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.UpdateCategoryRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Обновить категорию
      tags:
      - menu
  /menu/ingredient-categories:
    get:
      description: Возвращает список категорий ингредиентов
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - Bearer: []
      summary: Получить список категорий ингредиентов
      tags:
      - menu
    post:
      consumes:
      - application/json
      description: Создает новую категорию ингредиентов
      parameters:
      - description: Данные категории
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.CreateIngredientCategoryRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Создать категорию ингредиентов
      tags:
      - menu
  /menu/ingredient-categories/{id}:
    delete:
      description: Удаляет категорию ингредиентов по ID
      parameters:
      - description: ID категории
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Удалить категорию ингредиентов
      tags:
      - menu
    get:
      description: Возвращает категорию ингредиентов по ID
      parameters:
      - description: ID категории
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Получить категорию ингредиентов по ID
      tags:
      - menu
    put:
      consumes:
      - application/json
      description: Обновляет данные категории ингредиентов
      parameters:
      - description: ID категории
        in: path
        name: id
        required: true
        type: string
      - description: Данные для обновления
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.UpdateIngredientCategoryRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Обновить категорию ингредиентов
      tags:
      - menu
  /menu/ingredients:
    post:
      consumes:
      - application/json
      description: Создает новый ингредиент и автоматически создает остатки на складе
      parameters:
      - description: Данные ингредиента
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.CreateIngredientRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Создать ингредиент
      tags:
      - menu
  /menu/ingredients/{id}:
    delete:
      description: Удаляет ингредиент по ID
      parameters:
      - description: ID ингредиента
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Удалить ингредиент
      tags:
      - menu
    get:
      description: Возвращает ингредиент по ID
      parameters:
      - description: ID ингредиента
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Получить ингредиент по ID
      tags:
      - menu
    put:
      consumes:
      - application/json
      description: Обновляет данные ингредиента
      parameters:
      - description: ID ингредиента
        in: path
        name: id
        required: true
        type: string
      - description: Данные для обновления
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.UpdateIngredientRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Обновить ингредиент
      tags:
      - menu
  /menu/products:
    get:
      description: Возвращает список товаров с возможностью фильтрации по категории,
        цеху, поиску и активности
      parameters:
      - description: ID категории
        in: query
        name: category_id
        type: string
      - description: ID цеха
        in: query
        name: workshop_id
        type: string
      - description: Поиск по названию
        in: query
        name: search
        type: string
      - description: Фильтр по активности
        in: query
        name: active
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Получить список товаров
      tags:
      - menu
    post:
      consumes:
      - application/json
      description: Создает новый товар и автоматически создает остатки на складе
      parameters:
      - description: Данные товара
        in: body
        name: product
        required: true
        schema:
          $ref: '#/definitions/handlers.CreateProductRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Создать товар
      tags:
      - menu
  /menu/products/{id}:
    delete:
      description: Удаляет товар по ID
      parameters:
      - description: ID товара
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Удалить товар
      tags:
      - menu
    get:
      description: Возвращает товар по ID
      parameters:
      - description: ID товара
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Получить товар по ID
      tags:
      - menu
    put:
      consumes:
      - application/json
      description: Обновляет данные товара
      parameters:
      - description: ID товара
        in: path
        name: id
        required: true
        type: string
      - description: Данные для обновления
        in: body
        name: product
        required: true
        schema:
          $ref: '#/definitions/handlers.UpdateProductRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Обновить товар
      tags:
      - menu
  /menu/tech-cards:
    get:
      description: Возвращает список тех-карт с фильтрацией
      parameters:
      - description: ID категории
        in: query
        name: category_id
        type: string
      - description: ID цеха
        in: query
        name: workshop_id
        type: string
      - description: Поиск по названию
        in: query
        name: search
        type: string
      - description: Фильтр по активности
        in: query
        name: active
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - Bearer: []
      summary: Получить список тех-карт
      tags:
      - menu
    post:
      consumes:
      - application/json
      description: Создает новую тех-карту
      parameters:
      - description: Данные тех-карты
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.CreateTechCardRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Создать тех-карту
      tags:
      - menu
  /menu/tech-cards/{id}:
    delete:
      description: Удаляет тех-карту по ID
      parameters:
      - description: ID тех-карты
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Удалить тех-карту
      tags:
      - menu
    get:
      description: Возвращает тех-карту по ID
      parameters:
      - description: ID тех-карты
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Получить тех-карту по ID
      tags:
      - menu
    put:
      consumes:
      - application/json
      description: Обновляет данные тех-карты
      parameters:
      - description: ID тех-карты
        in: path
        name: id
        required: true
        type: string
      - description: Данные для обновления
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.UpdateTechCardRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Обновить тех-карту
      tags:
      - menu
  /orders:
    get:
      description: Возвращает список заказов
      parameters:
      - description: Начальная дата
        in: query
        name: start_date
        type: string
      - description: Конечная дата
        in: query
        name: end_date
        type: string
      - description: Статус заказа
        in: query
        name: status
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - Bearer: []
      summary: Получить список заказов
      tags:
      - orders
    post:
      consumes:
      - application/json
      description: Создает новый заказ
      parameters:
      - description: Данные заказа
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Создать заказ
      tags:
      - orders
  /orders/{id}:
    get:
      description: Возвращает заказ по ID
      parameters:
      - description: ID заказа
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Получить заказ по ID
      tags:
      - orders
    put:
      consumes:
      - application/json
      description: Обновляет данные заказа
      parameters:
      - description: ID заказа
        in: path
        name: id
        required: true
        type: string
      - description: Данные для обновления
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Обновить заказ
      tags:
      - orders
  /orders/{id}/pay:
    post:
      description: Оплачивает заказ
      parameters:
      - description: ID заказа
        in: path
        name: id
        required: true
        type: string
      - description: Данные оплаты
        in: body
        name: request
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Оплатить заказ
      tags:
      - orders
  /statistics/abc-analysis:
    get:
      description: Возвращает ABC анализ товаров
      parameters:
      - description: Начальная дата
        in: query
        name: start_date
        type: string
      - description: Конечная дата
        in: query
        name: end_date
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - Bearer: []
      summary: Получить ABC анализ
      tags:
      - statistics
  /statistics/products:
    get:
      description: Возвращает статистику по товарам
      parameters:
      - description: Начальная дата
        in: query
        name: start_date
        type: string
      - description: Конечная дата
        in: query
        name: end_date
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - Bearer: []
      summary: Получить статистику по товарам
      tags:
      - statistics
  /statistics/sales:
    get:
      description: Возвращает статистику продаж
      parameters:
      - description: Начальная дата
        in: query
        name: start_date
        type: string
      - description: Конечная дата
        in: query
        name: end_date
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - Bearer: []
      summary: Получить статистику продаж
      tags:
      - statistics
  /warehouse/movements:
    get:
      description: Возвращает историю движений по складу
      parameters:
      - description: ID склада
        in: query
        name: warehouse_id
        type: string
      - description: Начальная дата
        in: query
        name: start_date
        type: string
      - description: Конечная дата
        in: query
        name: end_date
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Получить движения по складу
      tags:
      - warehouse
  /warehouse/stock:
    get:
      description: Возвращает остатки на складе с возможностью фильтрации
      parameters:
      - description: ID склада
        in: query
        name: warehouse_id
        type: string
      - description: Поиск
        in: query
        name: search
        type: string
      - description: Тип (ingredient или product)
        in: query
        name: type
        type: string
      - description: ID категории
        in: query
        name: category_id
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Получить остатки на складе
      tags:
      - warehouse
  /warehouse/stock/{id}/limit:
    put:
      consumes:
      - application/json
      description: Обновляет минимальный остаток для позиции на складе
      parameters:
      - description: ID остатка
        in: path
        name: id
        required: true
        type: string
      - description: Данные для обновления
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Обновить минимальный остаток
      tags:
      - warehouse
  /warehouse/suppliers:
    get:
      description: Возвращает список поставщиков заведения
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Получить список поставщиков
      tags:
      - warehouse
    post:
      consumes:
      - application/json
      description: Создает нового поставщика
      parameters:
      - description: Данные поставщика
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.CreateSupplierRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Создать поставщика
      tags:
      - warehouse
  /warehouse/suppliers/{id}:
    delete:
      description: Удаляет поставщика по ID
      parameters:
      - description: ID поставщика
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Удалить поставщика
      tags:
      - warehouse
    get:
      description: Возвращает поставщика по ID
      parameters:
      - description: ID поставщика
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Получить поставщика по ID
      tags:
      - warehouse
    put:
      consumes:
      - application/json
      description: Обновляет данные поставщика
      parameters:
      - description: ID поставщика
        in: path
        name: id
        required: true
        type: string
      - description: Данные для обновления
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.UpdateSupplierRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Обновить поставщика
      tags:
      - warehouse
  /warehouse/supplies:
    get:
      description: Возвращает список поставок по ингредиенту или товару
      parameters:
      - description: ID ингредиента
        in: query
        name: ingredient_id
        type: string
      - description: ID товара
        in: query
        name: product_id
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Получить поставки по позиции
      tags:
      - warehouse
    post:
      consumes:
      - application/json
      description: Создает новую поставку на склад
      parameters:
      - description: Данные поставки
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.CreateSupplyRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Создать поставку
      tags:
      - warehouse
  /warehouse/write-offs:
    post:
      consumes:
      - application/json
      description: Создает списание со склада
      parameters:
      - description: Данные списания
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.CreateWriteOffRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Создать списание
      tags:
      - warehouse
  /warehouses:
    get:
      description: Возвращает список складов заведения
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Получить список складов
      tags:
      - warehouse
    post:
      consumes:
      - application/json
      description: Создает новый склад
      parameters:
      - description: Данные склада
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.CreateWarehouseRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Создать склад
      tags:
      - warehouse
  /warehouses/{id}:
    delete:
      description: Удаляет склад по ID
      parameters:
      - description: ID склада
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Удалить склад
      tags:
      - warehouse
    get:
      description: Возвращает склад по ID
      parameters:
      - description: ID склада
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Получить склад по ID
      tags:
      - warehouse
    put:
      consumes:
      - application/json
      description: Обновляет данные склада
      parameters:
      - description: ID склада
        in: path
        name: id
        required: true
        type: string
      - description: Данные для обновления
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.UpdateWarehouseRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Обновить склад
      tags:
      - warehouse
schemes:
- http
- https
securityDefinitions:
  Bearer:
    description: Type "Bearer" followed by a space and JWT token.
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
