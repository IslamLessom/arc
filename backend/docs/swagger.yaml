basePath: /api/v1
definitions:
  handlers.AuthResponse:
    properties:
      access_token:
        type: string
      refresh_token:
        type: string
      user: {}
    type: object
  handlers.CreateCategoryRequest:
    properties:
      name:
        type: string
      type:
        enum:
        - product
        - tech_card
        - semi_finished
        type: string
    required:
    - name
    - type
    type: object
  handlers.CreateIngredientCategoryRequest:
    properties:
      name:
        type: string
    required:
    - name
    type: object
  handlers.CreateIngredientRequest:
    properties:
      barcode:
        type: string
      category_id:
        type: string
      loss_baking:
        type: number
      loss_boiling:
        type: number
      loss_cleaning:
        type: number
      loss_frying:
        type: number
      loss_stewing:
        type: number
      name:
        type: string
      price_per_unit:
        description: Цена за единицу измерения
        type: number
      quantity:
        description: Количество в наличии
        type: number
      unit:
        enum:
        - шт
        - л
        - кг
        type: string
      warehouse_id:
        description: Складской учет (опционально)
        type: string
    required:
    - category_id
    - name
    - unit
    type: object
  handlers.CreateProductRequest:
    properties:
      barcode:
        type: string
      category_id:
        description: UUID как строка
        type: string
      cost_price:
        type: number
      cover_image:
        type: string
      description:
        type: string
      exclude_from_discounts:
        type: boolean
      has_modifications:
        type: boolean
      is_weighted:
        type: boolean
      markup:
        type: number
      name:
        type: string
      price:
        description: Можно задать напрямую, иначе вычисляется
        type: number
      warehouse_id:
        description: UUID склада для создания остатков
        type: string
      workshop_id:
        description: UUID как строка
        type: string
    required:
    - category_id
    - name
    - warehouse_id
    type: object
  handlers.CreateSupplierRequest:
    properties:
      address:
        description: Адрес
        type: string
      comment:
        description: Комментарий
        type: string
      contact:
        description: Контактное лицо (опционально)
        type: string
      email:
        description: Email (опционально)
        type: string
      name:
        description: Имя
        type: string
      phone:
        description: Телефон
        type: string
      taxpayer_number:
        description: Номер налогоплательщика
        type: string
    required:
    - name
    type: object
  handlers.CreateSupplyRequest:
    properties:
      comment:
        description: Комментарий
        type: string
      delivery_date_time:
        description: Дата и время поставки (RFC3339)
        type: string
      items:
        items:
          $ref: '#/definitions/handlers.SupplyItemRequest'
        minItems: 1
        type: array
      status:
        description: pending, completed
        type: string
      supplier_id:
        description: Поставщик
        type: string
      warehouse_id:
        description: Склад
        type: string
    required:
    - delivery_date_time
    - items
    - supplier_id
    - warehouse_id
    type: object
  handlers.CreateTechCardRequest:
    properties:
      category_id:
        type: string
      cost_price:
        type: number
      cover_image:
        type: string
      description:
        type: string
      exclude_from_discounts:
        type: boolean
      ingredients:
        items:
          $ref: '#/definitions/handlers.TechCardIngredientRequest'
        type: array
      is_weighted:
        type: boolean
      markup:
        type: number
      modifier_sets:
        items:
          $ref: '#/definitions/handlers.ModifierSetRequest'
        type: array
      name:
        type: string
      price:
        type: number
      warehouse_id:
        description: Для расчета себестоимости
        type: string
      workshop_id:
        type: string
    required:
    - category_id
    - name
    type: object
  handlers.CreateWarehouseRequest:
    properties:
      address:
        type: string
      name:
        type: string
    required:
    - name
    type: object
  handlers.CreateWriteOffRequest:
    properties:
      comment:
        description: Комментарий
        example: Комментарий к списанию
        type: string
      items:
        description: Список позиций для списания (минимум 1)
        items:
          $ref: '#/definitions/handlers.WriteOffItemRequest'
        minItems: 1
        type: array
      reason:
        description: Причина списания
        example: Без причины
        type: string
      warehouse_id:
        description: ID склада
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
      write_off_date_time:
        description: Дата и время списания в формате RFC3339
        example: "2026-01-18T17:18:00Z"
        type: string
    required:
    - items
    - warehouse_id
    - write_off_date_time
    type: object
  handlers.EstablishmentResponse:
    description: Структура заведения со всеми полями, включая настройки и связанные
      таблицы
    properties:
      active:
        description: Active активность заведения
        example: true
        type: boolean
      address:
        description: Address адрес заведения
        example: ул. Тверская, д. 1
        type: string
      created_at:
        description: CreatedAt дата создания
        example: "2024-01-18T10:00:00Z"
        type: string
      email:
        description: Email email заведения
        example: info@cafe-moscow.ru
        type: string
      has_seating_places:
        description: HasSeatingPlaces есть ли сидячие места
        example: true
        type: boolean
      id:
        description: ID уникальный идентификатор заведения (UUID)
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
      name:
        description: Name название заведения
        example: Кафе Москва
        type: string
      owner_id:
        description: OwnerID идентификатор владельца заведения
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
      phone:
        description: Phone телефон заведения
        example: "+79991234567"
        type: string
      table_count:
        description: TableCount количество столов (если есть сидячие места)
        example: 10
        type: integer
      tables:
        description: Tables массив столов заведения (если есть сидячие места)
        items:
          $ref: '#/definitions/handlers.TableResponse'
        type: array
      type:
        description: 'Type тип заведения: restaurant, cafe, fast_food, bar, pizzeria,
          bakery, coffee_shop, takeaway, delivery, other'
        example: cafe
        type: string
      updated_at:
        description: UpdatedAt дата последнего обновления
        example: "2024-01-18T10:00:00Z"
        type: string
    type: object
  handlers.LoginRequest:
    properties:
      email:
        type: string
      password:
        type: string
    required:
    - email
    - password
    type: object
  handlers.ModifierOptionRequest:
    properties:
      name:
        type: string
      price:
        type: number
    required:
    - name
    type: object
  handlers.ModifierSetRequest:
    properties:
      max_selection:
        description: Максимальное количество выбора (для multiple, 0 = без ограничений)
        type: integer
      min_selection:
        description: Минимальное количество выбора (для multiple)
        type: integer
      name:
        type: string
      options:
        items:
          $ref: '#/definitions/handlers.ModifierOptionRequest'
        type: array
      selection_type:
        description: '"single" или "multiple"'
        enum:
        - single
        - multiple
        type: string
    required:
    - name
    - selection_type
    type: object
  handlers.QuestionOptionResponse:
    description: Вариант ответа для вопросов типа "select". Содержит значение для
      отправки и текст для отображения
    properties:
      label:
        description: Label текст для отображения пользователю
        example: Ресторан
        type: string
      value:
        description: Value значение, которое отправляется в ответе (используется в
          поле "key" при SubmitAnswers)
        example: restaurant
        type: string
    type: object
  handlers.QuestionResponse:
    description: Структура вопроса опросника. Содержит все необходимые поля для отображения
      и обработки вопроса на фронтенде
    properties:
      condition:
        description: 'Condition условие показа вопроса (например: "has_seating_places=true")'
        example: has_seating_places=true
        type: string
      default_value:
        description: DefaultValue значение по умолчанию
        example: ""
        type: string
      id:
        description: ID уникальный идентификатор вопроса (UUID)
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
      key:
        description: 'Key ключ вопроса, используется при отправке ответов (например:
          "establishment_name", "has_seating_places")'
        example: establishment_name
        type: string
      label:
        description: Label текст вопроса для отображения пользователю
        example: Название заведения
        type: string
      options:
        description: Options варианты ответов для вопросов типа "select"
        items:
          $ref: '#/definitions/handlers.QuestionOptionResponse'
        type: array
      placeholder:
        description: Placeholder подсказка для поля ввода
        example: Введите название вашего заведения
        type: string
      required:
        description: Required обязательность заполнения вопроса
        example: true
        type: boolean
      type:
        description: 'Type тип вопроса: text, email, phone, number, boolean, select'
        enum:
        - text
        - email
        - phone
        - number
        - boolean
        - select
        example: text
        type: string
      validation:
        description: Validation правила валидации в формате JSON
        example: '{"min": 3, "max": 100}'
        type: string
    type: object
  handlers.QuestionsResponse:
    description: Структура ответа с вопросами, сгруппированными по шагам. Поле data
      содержит объект, где ключи - номера шагов (строки "1", "2", "3"...), а значения
      - массивы вопросов
    properties:
      data:
        additionalProperties:
          items:
            $ref: '#/definitions/handlers.QuestionResponse'
          type: array
        description: Data содержит вопросы, сгруппированные по шагам. Ключи - номера
          шагов (строки), значения - массивы вопросов
        type: object
      steps:
        description: Steps - количество шагов в опроснике
        type: integer
    type: object
  handlers.RefreshRequest:
    properties:
      refresh_token:
        type: string
    required:
    - refresh_token
    type: object
  handlers.RegisterRequest:
    properties:
      email:
        type: string
      name:
        type: string
      password:
        minLength: 6
        type: string
    required:
    - email
    - name
    - password
    type: object
  handlers.SubmitAnswersRequest:
    properties:
      answers:
        additionalProperties: true
        type: object
    required:
    - answers
    type: object
  handlers.SupplyItemRequest:
    properties:
      ingredient_id:
        type: string
      price_per_unit:
        description: Цена за единицу измерения
        type: number
      product_id:
        type: string
      quantity:
        type: number
      total_amount:
        description: Общая сумма позиции
        type: number
      unit:
        type: string
    required:
    - quantity
    - unit
    type: object
  handlers.TableResponse:
    description: Структура стола с координатами и статусом
    properties:
      active:
        description: Active активность стола
        example: true
        type: boolean
      capacity:
        description: Capacity вместимость стола (количество мест)
        example: 4
        type: integer
      created_at:
        description: CreatedAt дата создания
        example: "2024-01-18T10:00:00Z"
        type: string
      establishment_id:
        description: EstablishmentID идентификатор заведения
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
      id:
        description: ID уникальный идентификатор стола (UUID)
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
      name:
        description: Name название стола (опционально)
        example: Стол у окна
        type: string
      number:
        description: Number номер стола (уникален в рамках заведения)
        example: 1
        type: integer
      position_x:
        description: PositionX X координата на схеме зала
        example: 100.5
        type: number
      position_y:
        description: PositionY Y координата на схеме зала
        example: 200.5
        type: number
      rotation:
        description: Rotation поворот стола в градусах (0-360)
        example: 0
        type: number
      status:
        description: 'Status статус стола: available, occupied, reserved'
        example: available
        type: string
      updated_at:
        description: UpdatedAt дата последнего обновления
        example: "2024-01-18T10:00:00Z"
        type: string
    type: object
  handlers.TechCardIngredientRequest:
    properties:
      ingredient_id:
        type: string
      quantity:
        type: number
      unit:
        description: кг, л, шт и т.д.
        type: string
    required:
    - ingredient_id
    - quantity
    - unit
    type: object
  handlers.UpdateCategoryRequest:
    properties:
      name:
        type: string
      type:
        enum:
        - product
        - tech_card
        - semi_finished
        type: string
    type: object
  handlers.UpdateEstablishmentRequest:
    properties:
      active:
        type: boolean
      address:
        type: string
      email:
        type: string
      has_seating_places:
        type: boolean
      name:
        type: string
      phone:
        type: string
      table_count:
        type: integer
      type:
        type: string
    type: object
  handlers.UpdateIngredientCategoryRequest:
    properties:
      name:
        type: string
    type: object
  handlers.UpdateIngredientRequest:
    properties:
      active:
        type: boolean
      barcode:
        type: string
      category_id:
        type: string
      loss_baking:
        type: number
      loss_boiling:
        type: number
      loss_cleaning:
        type: number
      loss_frying:
        type: number
      loss_stewing:
        type: number
      name:
        type: string
      unit:
        enum:
        - шт
        - л
        - кг
        type: string
    type: object
  handlers.UpdateProductRequest:
    properties:
      active:
        type: boolean
      barcode:
        type: string
      category_id:
        type: string
      cost_price:
        type: number
      cover_image:
        type: string
      description:
        type: string
      exclude_from_discounts:
        type: boolean
      has_modifications:
        type: boolean
      is_weighted:
        type: boolean
      markup:
        type: number
      name:
        type: string
      price:
        type: number
      workshop_id:
        type: string
    type: object
  handlers.UpdateSupplierRequest:
    properties:
      active:
        type: boolean
      address:
        type: string
      comment:
        type: string
      contact:
        type: string
      email:
        type: string
      name:
        type: string
      phone:
        type: string
      taxpayer_number:
        type: string
    type: object
  handlers.UpdateTechCardRequest:
    properties:
      active:
        type: boolean
      category_id:
        type: string
      cost_price:
        type: number
      cover_image:
        type: string
      description:
        type: string
      exclude_from_discounts:
        type: boolean
      ingredients:
        items:
          $ref: '#/definitions/handlers.TechCardIngredientRequest'
        type: array
      is_weighted:
        type: boolean
      markup:
        type: number
      modifier_sets:
        items:
          $ref: '#/definitions/handlers.ModifierSetRequest'
        type: array
      name:
        type: string
      price:
        type: number
      warehouse_id:
        description: Для расчета себестоимости
        type: string
      workshop_id:
        type: string
    type: object
  handlers.UpdateWarehouseRequest:
    properties:
      active:
        type: boolean
      address:
        type: string
      name:
        type: string
    type: object
  handlers.WriteOffItemRequest:
    properties:
      details:
        description: Детали списания
        example: Детали списания
        type: string
      ingredient_id:
        description: ID ингредиента (обязательно, если не указан product_id)
        example: 550e8400-e29b-41d4-a716-446655440001
        type: string
      product_id:
        description: ID товара (обязательно, если не указан ingredient_id)
        example: 550e8400-e29b-41d4-a716-446655440002
        type: string
      quantity:
        description: Количество для списания
        example: 10
        type: number
      unit:
        description: Единица измерения
        example: кг
        type: string
    required:
    - quantity
    - unit
    type: object
host: localhost:8080
info:
  contact:
    email: support@swagger.io
    name: API Support
    url: http://www.swagger.io/support
  description: API для системы управления рестораном/кафе с функционалом меню, склада,
    финансов и статистики
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  termsOfService: http://swagger.io/terms/
  title: Arc Restaurant Management API
  version: "1.0"
paths:
  /auth/login:
    post:
      consumes:
      - application/json
      description: Аутентифицирует пользователя и возвращает токены доступа
      parameters:
      - description: Данные для входа
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.AuthResponse'
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Вход в систему
      tags:
      - auth
  /auth/logout:
    post:
      description: Добавляет токен доступа в черный список
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Выход из системы
      tags:
      - auth
  /auth/onboarding/questions:
    get:
      description: 'Возвращает все активные вопросы опросника, отсортированные по
        шагам. Вопросы группируются по номерам шагов (1, 2, 3...). Каждый вопрос содержит:
        id (UUID), key (ключ для ответа, используется при отправке ответов), type
        (text/email/phone/number/boolean/select), label (текст вопроса), placeholder
        (подсказка), required (обязательность), default_value (значение по умолчанию),
        condition (условие показа), validation (правила валидации). Для вопросов типа
        "select" дополнительно возвращается массив options с полями value (значение
        для отправки) и label (текст для отображения).'
      produces:
      - application/json
      responses:
        "200":
          description: 'Структура ответа: {\"data\": {\"1\": [вопросы шага 1], \"2\":
            [вопросы шага 2]}, \"steps\": количество_шагов}" "Пример ответа: {\"data\":{\"1\":[{\"id\":\"uuid\",\"key\":\"establishment_name\",\"type\":\"text\",\"label\":\"Название
            заведения\",\"placeholder\":\"Введите название\",\"required\":true,\"default_value\":\"\",\"condition\":\"\",\"validation\":\"\"}],\"2\":[{\"id\":\"uuid\",\"key\":\"establishment_type\",\"type\":\"select\",\"label\":\"Тип
            заведения\",\"required\":true,\"options\":[{\"value\":\"restaurant\",\"label\":\"Ресторан\"},{\"value\":\"cafe\",\"label\":\"Кафе\"}]}]},\"steps\":2}'
          schema:
            $ref: '#/definitions/handlers.QuestionsResponse'
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Получить вопросы опросника
      tags:
      - onboarding
  /auth/onboarding/response:
    get:
      description: 'Возвращает сохраненные ответы пользователя на опросник. Если опросник
        не пройден, возвращается completed: false и data: null. Если пройден, возвращается
        объект с полями: data (объект с ответами, где ключи - это question_key, значения
        - ответы пользователя) и completed (true/false)'
      produces:
      - application/json
      responses:
        "200":
          description: 'Ответ содержит data (объект с ответами, ключи - question_key)
            и completed (true/false). Если опросник не пройден, data: null'
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Получить ответы пользователя
      tags:
      - onboarding
  /auth/onboarding/submit:
    post:
      consumes:
      - application/json
      description: 'Обрабатывает ответы пользователя, создает заведение и настраивает
        систему. Ответы передаются в формате объекта, где ключи соответствуют полю
        "key" из вопросов, а значения - ответы пользователя. Типы значений зависят
        от типа вопроса: text/email/phone - строка, number - число, boolean - true/false,
        select - значение из options.value'
      parameters:
      - description: Ответы на вопросы опросника. Ключи объекта answers соответствуют
          полю 'key' из вопросов
        in: body
        name: answers
        required: true
        schema:
          $ref: '#/definitions/handlers.SubmitAnswersRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Ответ содержит message и establishment объект
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Отправить ответы опросника
      tags:
      - onboarding
  /auth/refresh:
    post:
      consumes:
      - application/json
      description: Обновляет access token используя refresh token
      parameters:
      - description: Refresh token
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.RefreshRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.AuthResponse'
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Обновление токена
      tags:
      - auth
  /auth/register:
    post:
      consumes:
      - application/json
      description: Регистрирует нового пользователя и возвращает токены доступа
      parameters:
      - description: Данные для регистрации
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.RegisterRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/handlers.AuthResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Регистрация нового пользователя
      tags:
      - auth
  /establishments:
    get:
      description: 'Возвращает заведения пользователя (обычно 0 или 1 элемент). Возвращает
        массив заведений с полями: id, owner_id, name, address, phone, email, has_seating_places,
        table_count, type, tables, active, created_at, updated_at'
      produces:
      - application/json
      responses:
        "200":
          description: 'Ответ обернут в объект: {\"data\": [заведения]}. Каждое заведение
            содержит: id, owner_id, name, address, phone, email, has_seating_places,
            table_count, type, tables, active, created_at, updated_at'
          schema:
            items:
              $ref: '#/definitions/handlers.EstablishmentResponse'
            type: array
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Получить список заведений
      tags:
      - establishments
    post:
      consumes:
      - application/json
      description: Заведение создаётся при прохождении onboarding, этот endpoint не
        используется
      produces:
      - application/json
      responses:
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Создать заведение (не используется)
      tags:
      - establishments
  /establishments/{id}:
    delete:
      description: Удаление заведения не разрешено
      parameters:
      - description: ID заведения
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Удалить заведение (не разрешено)
      tags:
      - establishments
    get:
      description: 'Возвращает заведение по ID (доступ только к своему заведению).
        Возвращает объект с полями: id, owner_id, name, address, phone, email, has_seating_places,
        table_count, type, tables (массив столов), active, created_at, updated_at'
      parameters:
      - description: ID заведения
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 'Ответ обернут в объект: {\"data\": {заведение}}. Поля заведения:
            id, owner_id, name, address, phone, email, has_seating_places, table_count,
            type, tables (массив), active, created_at, updated_at'
          schema:
            $ref: '#/definitions/handlers.EstablishmentResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Получить заведение по ID
      tags:
      - establishments
    put:
      consumes:
      - application/json
      description: 'Обновляет заведение (доступ только к своему заведению). Возвращает
        обновленное заведение с полями: id, owner_id, name, address, phone, email,
        has_seating_places, table_count, type, tables, active, created_at, updated_at'
      parameters:
      - description: ID заведения
        in: path
        name: id
        required: true
        type: string
      - description: Данные для обновления. Все поля опциональны
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.UpdateEstablishmentRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 'Ответ обернут в объект: {\"data\": {заведение}}. Поля заведения:
            id, owner_id, name, address, phone, email, has_seating_places, table_count,
            type, tables, active, created_at, updated_at'
          schema:
            $ref: '#/definitions/handlers.EstablishmentResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Обновить заведение
      tags:
      - establishments
  /finance/cash-flow:
    get:
      description: Возвращает отчет о движении денежных средств
      parameters:
      - description: Начальная дата
        in: query
        name: start_date
        type: string
      - description: Конечная дата
        in: query
        name: end_date
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - Bearer: []
      summary: Получить отчет о движении денежных средств
      tags:
      - finance
  /finance/pnl:
    get:
      description: Возвращает отчет о прибылях и убытках
      parameters:
      - description: Начальная дата
        in: query
        name: start_date
        type: string
      - description: Конечная дата
        in: query
        name: end_date
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - Bearer: []
      summary: Получить отчет P&L
      tags:
      - finance
  /finance/shifts:
    get:
      description: Возвращает список смен
      parameters:
      - description: Начальная дата
        in: query
        name: start_date
        type: string
      - description: Конечная дата
        in: query
        name: end_date
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - Bearer: []
      summary: Получить смены
      tags:
      - finance
  /finance/transactions:
    get:
      description: Возвращает список финансовых транзакций
      parameters:
      - description: Начальная дата
        in: query
        name: start_date
        type: string
      - description: Конечная дата
        in: query
        name: end_date
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - Bearer: []
      summary: Получить транзакции
      tags:
      - finance
  /menu/categories:
    get:
      description: Возвращает список категорий для товаров и тех-карт
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - Bearer: []
      summary: Получить список категорий
      tags:
      - menu
    post:
      consumes:
      - application/json
      description: Создает новую категорию для товаров и тех-карт
      parameters:
      - description: Данные категории
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.CreateCategoryRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Создать категорию
      tags:
      - menu
  /menu/categories/{id}:
    delete:
      description: Удаляет категорию по ID
      parameters:
      - description: ID категории
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Удалить категорию
      tags:
      - menu
    get:
      description: Возвращает категорию по ID
      parameters:
      - description: ID категории
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Получить категорию по ID
      tags:
      - menu
    put:
      consumes:
      - application/json
      description: Обновляет данные категории
      parameters:
      - description: ID категории
        in: path
        name: id
        required: true
        type: string
      - description: Данные для обновления
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.UpdateCategoryRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Обновить категорию
      tags:
      - menu
  /menu/ingredient-categories:
    get:
      description: Возвращает список категорий ингредиентов
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - Bearer: []
      summary: Получить список категорий ингредиентов
      tags:
      - menu
    post:
      consumes:
      - application/json
      description: Создает новую категорию ингредиентов
      parameters:
      - description: Данные категории
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.CreateIngredientCategoryRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Создать категорию ингредиентов
      tags:
      - menu
  /menu/ingredient-categories/{id}:
    delete:
      description: Удаляет категорию ингредиентов по ID
      parameters:
      - description: ID категории
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Удалить категорию ингредиентов
      tags:
      - menu
    get:
      description: Возвращает категорию ингредиентов по ID
      parameters:
      - description: ID категории
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Получить категорию ингредиентов по ID
      tags:
      - menu
    put:
      consumes:
      - application/json
      description: Обновляет данные категории ингредиентов
      parameters:
      - description: ID категории
        in: path
        name: id
        required: true
        type: string
      - description: Данные для обновления
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.UpdateIngredientCategoryRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Обновить категорию ингредиентов
      tags:
      - menu
  /menu/ingredients:
    post:
      consumes:
      - application/json
      description: Создает новый ингредиент и автоматически создает остатки на складе
      parameters:
      - description: Данные ингредиента
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.CreateIngredientRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Создать ингредиент
      tags:
      - menu
  /menu/ingredients/{id}:
    delete:
      description: Удаляет ингредиент по ID
      parameters:
      - description: ID ингредиента
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Удалить ингредиент
      tags:
      - menu
    get:
      description: Возвращает ингредиент по ID
      parameters:
      - description: ID ингредиента
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Получить ингредиент по ID
      tags:
      - menu
    put:
      consumes:
      - application/json
      description: Обновляет данные ингредиента
      parameters:
      - description: ID ингредиента
        in: path
        name: id
        required: true
        type: string
      - description: Данные для обновления
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.UpdateIngredientRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Обновить ингредиент
      tags:
      - menu
  /menu/products:
    get:
      description: Возвращает список товаров с возможностью фильтрации по категории,
        цеху, поиску и активности
      parameters:
      - description: ID категории
        in: query
        name: category_id
        type: string
      - description: ID цеха
        in: query
        name: workshop_id
        type: string
      - description: Поиск по названию
        in: query
        name: search
        type: string
      - description: Фильтр по активности
        in: query
        name: active
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Получить список товаров
      tags:
      - menu
    post:
      consumes:
      - application/json
      description: Создает новый товар и автоматически создает остатки на складе.
        Поле cover_image принимает URL изображения, полученный через POST /api/v1/upload/image
        или POST /api/v1/upload/image/base64
      parameters:
      - description: Данные товара
        in: body
        name: product
        required: true
        schema:
          $ref: '#/definitions/handlers.CreateProductRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Создать товар
      tags:
      - menu
  /menu/products/{id}:
    delete:
      description: Удаляет товар по ID
      parameters:
      - description: ID товара
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Удалить товар
      tags:
      - menu
    get:
      description: Возвращает товар по ID
      parameters:
      - description: ID товара
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Получить товар по ID
      tags:
      - menu
    put:
      consumes:
      - application/json
      description: Обновляет данные товара. Поле cover_image принимает URL изображения,
        полученный через POST /api/v1/upload/image или POST /api/v1/upload/image/base64
      parameters:
      - description: ID товара
        in: path
        name: id
        required: true
        type: string
      - description: Данные для обновления
        in: body
        name: product
        required: true
        schema:
          $ref: '#/definitions/handlers.UpdateProductRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Обновить товар
      tags:
      - menu
  /menu/tech-cards:
    get:
      description: Возвращает список тех-карт с фильтрацией
      parameters:
      - description: ID категории
        in: query
        name: category_id
        type: string
      - description: ID цеха
        in: query
        name: workshop_id
        type: string
      - description: Поиск по названию
        in: query
        name: search
        type: string
      - description: Фильтр по активности
        in: query
        name: active
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - Bearer: []
      summary: Получить список тех-карт
      tags:
      - menu
    post:
      consumes:
      - application/json
      description: Создает новую тех-карту. Поле cover_image принимает URL изображения,
        полученный через POST /api/v1/upload/image или POST /api/v1/upload/image/base64
      parameters:
      - description: Данные тех-карты
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.CreateTechCardRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Создать тех-карту
      tags:
      - menu
  /menu/tech-cards/{id}:
    delete:
      description: Удаляет тех-карту по ID
      parameters:
      - description: ID тех-карты
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Удалить тех-карту
      tags:
      - menu
    get:
      description: Возвращает тех-карту по ID
      parameters:
      - description: ID тех-карты
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Получить тех-карту по ID
      tags:
      - menu
    put:
      consumes:
      - application/json
      description: Обновляет данные тех-карты. Поле cover_image принимает URL изображения,
        полученный через POST /api/v1/upload/image или POST /api/v1/upload/image/base64
      parameters:
      - description: ID тех-карты
        in: path
        name: id
        required: true
        type: string
      - description: Данные для обновления
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.UpdateTechCardRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Обновить тех-карту
      tags:
      - menu
  /orders:
    get:
      description: Возвращает список заказов
      parameters:
      - description: Начальная дата
        in: query
        name: start_date
        type: string
      - description: Конечная дата
        in: query
        name: end_date
        type: string
      - description: Статус заказа
        in: query
        name: status
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - Bearer: []
      summary: Получить список заказов
      tags:
      - orders
    post:
      consumes:
      - application/json
      description: Создает новый заказ
      parameters:
      - description: Данные заказа
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Создать заказ
      tags:
      - orders
  /orders/{id}:
    get:
      description: Возвращает заказ по ID
      parameters:
      - description: ID заказа
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Получить заказ по ID
      tags:
      - orders
    put:
      consumes:
      - application/json
      description: Обновляет данные заказа
      parameters:
      - description: ID заказа
        in: path
        name: id
        required: true
        type: string
      - description: Данные для обновления
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Обновить заказ
      tags:
      - orders
  /orders/{id}/pay:
    post:
      description: Оплачивает заказ
      parameters:
      - description: ID заказа
        in: path
        name: id
        required: true
        type: string
      - description: Данные оплаты
        in: body
        name: request
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Оплатить заказ
      tags:
      - orders
  /statistics/abc-analysis:
    get:
      description: Возвращает ABC анализ товаров
      parameters:
      - description: Начальная дата
        in: query
        name: start_date
        type: string
      - description: Конечная дата
        in: query
        name: end_date
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - Bearer: []
      summary: Получить ABC анализ
      tags:
      - statistics
  /statistics/products:
    get:
      description: Возвращает статистику по товарам
      parameters:
      - description: Начальная дата
        in: query
        name: start_date
        type: string
      - description: Конечная дата
        in: query
        name: end_date
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - Bearer: []
      summary: Получить статистику по товарам
      tags:
      - statistics
  /statistics/sales:
    get:
      description: Возвращает статистику продаж
      parameters:
      - description: Начальная дата
        in: query
        name: start_date
        type: string
      - description: Конечная дата
        in: query
        name: end_date
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - Bearer: []
      summary: Получить статистику продаж
      tags:
      - statistics
  /upload/image:
    post:
      consumes:
      - multipart/form-data
      description: Загружает изображение в хранилище и возвращает публичный URL
      parameters:
      - description: Файл изображения
        in: formData
        name: file
        required: true
        type: file
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Загрузить изображение
      tags:
      - upload
  /upload/image/base64:
    post:
      consumes:
      - application/json
      description: Загружает изображение из base64 строки в хранилище
      parameters:
      - description: Base64 изображения
        in: body
        name: request
        required: true
        schema:
          additionalProperties:
            type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Загрузить изображение из base64
      tags:
      - upload
  /warehouse/movements:
    get:
      description: Возвращает историю движений по складу
      parameters:
      - description: ID склада
        in: query
        name: warehouse_id
        type: string
      - description: Начальная дата
        in: query
        name: start_date
        type: string
      - description: Конечная дата
        in: query
        name: end_date
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Получить движения по складу
      tags:
      - warehouse
  /warehouse/stock:
    get:
      description: Возвращает остатки на складе с возможностью фильтрации
      parameters:
      - description: ID склада
        in: query
        name: warehouse_id
        type: string
      - description: Поиск
        in: query
        name: search
        type: string
      - description: Тип (ingredient или product)
        in: query
        name: type
        type: string
      - description: ID категории
        in: query
        name: category_id
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Получить остатки на складе
      tags:
      - warehouse
  /warehouse/stock/{id}/limit:
    put:
      consumes:
      - application/json
      description: Обновляет минимальный остаток для позиции на складе
      parameters:
      - description: ID остатка
        in: path
        name: id
        required: true
        type: string
      - description: Данные для обновления
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Обновить минимальный остаток
      tags:
      - warehouse
  /warehouse/suppliers:
    get:
      description: Возвращает список поставщиков заведения
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Получить список поставщиков
      tags:
      - warehouse
    post:
      consumes:
      - application/json
      description: Создает нового поставщика
      parameters:
      - description: Данные поставщика
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.CreateSupplierRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Создать поставщика
      tags:
      - warehouse
  /warehouse/suppliers/{id}:
    delete:
      description: Удаляет поставщика по ID
      parameters:
      - description: ID поставщика
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Удалить поставщика
      tags:
      - warehouse
    get:
      description: Возвращает поставщика по ID
      parameters:
      - description: ID поставщика
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Получить поставщика по ID
      tags:
      - warehouse
    put:
      consumes:
      - application/json
      description: Обновляет данные поставщика
      parameters:
      - description: ID поставщика
        in: path
        name: id
        required: true
        type: string
      - description: Данные для обновления
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.UpdateSupplierRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Обновить поставщика
      tags:
      - warehouse
  /warehouse/supplies:
    get:
      description: Возвращает список поставок по ингредиенту или товару
      parameters:
      - description: ID ингредиента
        in: query
        name: ingredient_id
        type: string
      - description: ID товара
        in: query
        name: product_id
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Получить поставки по позиции
      tags:
      - warehouse
    post:
      consumes:
      - application/json
      description: Создает новую поставку на склад
      parameters:
      - description: Данные поставки
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.CreateSupplyRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Создать поставку
      tags:
      - warehouse
  /warehouse/write-offs:
    get:
      description: Возвращает список списаний с возможностью фильтрации по складу
      parameters:
      - description: ID склада
        in: query
        name: warehouse_id
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Получить список списаний
      tags:
      - warehouse
    post:
      consumes:
      - application/json
      description: Создает списание товаров/ингредиентов со склада. При создании списания
        автоматически уменьшаются остатки на складе. Каждая позиция списания должна
        иметь либо ingredient_id, либо product_id.
      parameters:
      - description: Данные списания
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.CreateWriteOffRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Созданное списание
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Ошибка валидации данных
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Доступ запрещен
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Внутренняя ошибка сервера
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Создать списание
      tags:
      - warehouse
  /warehouse/write-offs/{id}:
    get:
      description: Возвращает списание по ID
      parameters:
      - description: ID списания
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Получить списание по ID
      tags:
      - warehouse
  /warehouses:
    get:
      description: Возвращает список складов заведения
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Получить список складов
      tags:
      - warehouse
    post:
      consumes:
      - application/json
      description: Создает новый склад
      parameters:
      - description: Данные склада
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.CreateWarehouseRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Создать склад
      tags:
      - warehouse
  /warehouses/{id}:
    delete:
      description: Удаляет склад по ID
      parameters:
      - description: ID склада
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Удалить склад
      tags:
      - warehouse
    get:
      description: Возвращает склад по ID
      parameters:
      - description: ID склада
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Получить склад по ID
      tags:
      - warehouse
    put:
      consumes:
      - application/json
      description: Обновляет данные склада
      parameters:
      - description: ID склада
        in: path
        name: id
        required: true
        type: string
      - description: Данные для обновления
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.UpdateWarehouseRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Обновить склад
      tags:
      - warehouse
schemes:
- http
- https
securityDefinitions:
  Bearer:
    description: Type "Bearer" followed by a space and JWT token.
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
